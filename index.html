<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChopTube</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="brand">
          <img class="brand-image" src="assets/choptube-logo.png" alt="ChopTube logo" />
          <button id="help-toggle" class="help-toggle" aria-label="How to use?">How to use?</button>
        </div>
        <div class="center-control">
          <div class="edit-switch" aria-label="View mode">
            <button id="present-mode" class="edit-side" type="button">Present</button>
            <button id="edit-mode" class="edit-side" type="button">Edit</button>
          </div>
          <button id="play-toggle" class="play-toggle" aria-label="Play or stop"></button>
          <button id="loop-toggle" class="loop-toggle" aria-label="Loop toggle"></button>
          <div class="field bpm-field">
            <input id="bpm" type="number" min="40" max="240" value="120" aria-label="BPM" />
            <span>BPM</span>
          </div>
          <button id="tap-tempo" class="tap-tempo" aria-label="Tap tempo">Tap</button>
        </div>
        <div class="global-controls">
          <button id="new-session">New Session</button>
          <button id="share">Copy Share Link</button>
        </div>
      </header>

      <section class="grid" id="grid"></section>

      <footer class="footer">
        <div class="status" id="status"></div>
      </footer>
    </div>

    <div class="help-panel" id="help-panel" aria-hidden="true">
      <div class="help-card">
        <div class="help-header">
          <div>
            <div class="help-title">ChopTube Shortcuts</div>
            <div class="help-subtitle">Performance mode = no step selected</div>
          </div>
          <button id="help-close" class="help-close" aria-label="Close help">×</button>
        </div>
        <p class="help-paragraph">
          ChopTube is a live YouTube clip sequencer. Load a video into a tile, choose cue points, then play or record trigger
          patterns in sync with the global clock. Use Edit mode to set cues and write steps, then switch to Present mode for a
          cleaner performance view.
        </p>
        <div class="help-grid">
          <div><span class="key">Space</span>Play / Stop</div>
          <div><span class="key">L</span>Loop On / Off</div>
          <div><span class="key">Q W E R T Y U I</span>Play / Stop tile 1-8</div>
          <div><span class="key">Shift + Q..I</span>Select tile only</div>
          <div><span class="key">0-9</span>Trigger cue on selected tile</div>
          <div><span class="key">Shift + 0-9</span>Set cue from current playhead</div>
          <div><span class="key">Click Step</span>Select step for editing</div>
          <div><span class="key">Delete</span>Clear selected step</div>
          <div><span class="key">Shift + Delete</span>Clear whole tile loop</div>
          <div><span class="key">M</span>Write mute step</div>
          <div><span class="key">← / →</span>Nudge cue time by 0.10s</div>
          <div><span class="key">Shift + ← / →</span>Nudge cue time by 0.01s</div>
          <div><span class="key">↑ / ↓</span>Nudge cue time by 10s</div>
          <div><span class="key">Shift + ↑ / ↓</span>Nudge cue time by 1s</div>
          <div><span class="key">Option + Arrows</span>Adjust cue volume</div>
          <div><span class="key">Tap</span>Tap tempo into BPM</div>
        </div>
      </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="app.js"></script>
  </body>
</html>
